{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import '../css/styles.css';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  input: document.querySelector('input'),\n};\nconst formData = {\n  email: '',\n  message: '',\n};\npopulateTextarea();\nrefs.form.addEventListener('input', onTextareaInput);\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n  console.log(formData);\n});\nfunction onTextareaInput(e) {\n  formData[e.target.name] = e.target.value;\n  const stringifiedData = JSON.stringify(formData);\n  localStorage.setItem(STORAGE_KEY, stringifiedData);\n}\nfunction populateTextarea() {\n  const savedMessage = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (savedMessage === null) {\n    return;\n  }\n\n  refs.textarea.value = savedMessage.message || '';\n  refs.input.value = savedMessage.email || '';\n  formData.email = savedMessage.email || '';\n  formData.message = savedMessage.message || '';\n}\n"],"names":["STORAGE_KEY","refs","formData","populateTextarea","onTextareaInput","stringifiedData","savedMessage"],"mappings":"oCAEA,MAAMA,EAAc,sBAEdC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,SAAU,SAAS,cAAc,yBAAyB,EAC1D,MAAO,SAAS,cAAc,OAAO,CACvC,EACMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EACAC,IACAF,EAAK,KAAK,iBAAiB,QAASG,CAAe,EACnDH,EAAK,KAAK,iBAAiB,SAAU,GAAK,CACxC,EAAE,eAAc,EAChB,aAAa,WAAWD,CAAW,EACnC,EAAE,cAAc,QAChB,QAAQ,IAAIE,CAAQ,CACtB,CAAC,EACD,SAASE,EAAgB,EAAG,CAC1BF,EAAS,EAAE,OAAO,MAAQ,EAAE,OAAO,MACnC,MAAMG,EAAkB,KAAK,UAAUH,CAAQ,EAC/C,aAAa,QAAQF,EAAaK,CAAe,CACnD,CACA,SAASF,GAAmB,CAC1B,MAAMG,EAAe,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,EAC7DM,IAAiB,OAIrBL,EAAK,SAAS,MAAQK,EAAa,SAAW,GAC9CL,EAAK,MAAM,MAAQK,EAAa,OAAS,GACzCJ,EAAS,MAAQI,EAAa,OAAS,GACvCJ,EAAS,QAAUI,EAAa,SAAW,GAC7C"}